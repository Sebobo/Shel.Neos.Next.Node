(()=>{var K=Object.create;var A=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var U=Object.getOwnPropertyNames;var H=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty;var V=(e,t)=>()=>(e&&(t=e(e=0)),t);var p=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var D=(e,t,r,d)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of U(t))!L.call(e,o)&&o!==r&&A(e,o,{get:()=>t[o],enumerable:!(d=M(t,o))||d.enumerable});return e};var m=(e,t,r)=>(r=e!=null?K(H(e)):{},D(t||!e||!e.__esModule?A(r,"default",{value:e,enumerable:!0}):r,e));function s(e){return(...t)=>{if(window["@Neos:HostPluginAPI"]&&window["@Neos:HostPluginAPI"][`@${e}`])return window["@Neos:HostPluginAPI"][`@${e}`](...t);throw new Error("You are trying to read from a consumer api that hasn't been initialized yet!")}}var f=V(()=>{});var T=p((Ce,S)=>{f();S.exports=s("vendor")().React});var O=p((we,R)=>{f();R.exports=s("vendor")().reactRedux});var _=p((Se,B)=>{f();B.exports=s("NeosProjectPackages")().NeosUiReduxStore});var j=p((Re,I)=>{f();I.exports=s("NeosProjectPackages")().ReactUiComponents});var E=p((Be,k)=>{f();k.exports=s("NeosProjectPackages")().NeosUiDecorators});f();var P=s("manifest");var n=m(T()),x=m(O()),i=m(_()),u=m(j()),F=m(E());var b={addNextNodeButtons:"f",addNextNodeButton:"d"};var G=(0,x.connect)(e=>({focusedFusionPath:e?.cr?.nodes?.focused?.fusionPath,node:i.selectors.CR.Nodes.focusedSelector(e),getNodeByContextPath:i.selectors.CR.Nodes.nodeByContextPath(e)}),{focusNode:i.actions.CR.Nodes.focus,moveNodes:i.actions.CR.Nodes.moveMultiple}),Y=(0,F.neos)(e=>({nodeTypesRegistry:e.get("@neos-project/neos-ui-contentrepository")})),q=e=>Y((0,x.connect)((t,{nodeTypesRegistry:r})=>{let d=i.selectors.CR.Nodes.makeIsAllowedToAddChildOrSiblingNodes(r);return o=>{let h=i.selectors.CR.Nodes.focusedNodePathSelector(o),c=i.selectors.CR.Nodes.makeGetNodeByContextPathSelector(h)(o),g=c?r.hasRole(c.nodeType,"document")?"document":"content":null;return{isAllowedToAddChildOrSiblingNodes:d(o,{reference:h,role:g})}}},{commenceNodeCreation:i.actions.CR.Nodes.commenceCreation})(e)),J=e=>G(q(({contextPath:r,fusionPath:d,commenceNodeCreation:o,isAllowedToAddChildOrSiblingNodes:h,i18nRegistry:y,node:c,nodeTypesRegistry:g})=>{if(c.isAutoCreated)return null;let C=n.default.useMemo(()=>{let l=c?g.getNodeType(c.nodeType):[],{nextNodeTypes:a}=l.options;return a||(a={[c.nodeType]:!0}),Object.keys(a).filter(N=>a[N])},[c?.nodeType]),v=(0,n.useCallback)(l=>{o(r,d,"after",l)},[r,d,o]);return n.default.createElement("div",{className:b.addNextNodeButtons,id:"neos-InlineToolbar-AddNextNode"},C.map(l=>{let a=g.getNodeType(l),N=a?y.translate(a.label):l;return a?n.default.createElement(u.Button,{key:l,className:b.addNextNodeButton,disabled:!h,onClick:()=>v(l),title:y.translate("Shel.Neos.Next.Node:Main:AddNextNode",`Create "${N}" as next element`,{nodeTypeLabel:N})},n.default.createElement("span",{className:"fa-layers fa-fw"},n.default.createElement(u.Icon,{icon:a.ui?.icon||"plus",hoverStyle:"brand",size:"lg"}),n.default.createElement(u.Icon,{icon:"circle",color:"primaryBlue",transform:"shrink-3 down-10 right-10"}),n.default.createElement(u.Icon,{icon:"plus",transform:"shrink-7 down-10 right-10"}))):null}))})),W=J;P("Shel.Neos.Next.Node:ToolBar",{},(e,{frontendConfiguration:t})=>{let r=e.get("@neos-project/neos-ui-guest-frame"),d=t["Shel.Neos.Next.Node:ToolBar"],o=W(d);r.set("NodeToolbar/Buttons/AddNextNodeToolBar",o,"before AddNode")});})();
//# sourceMappingURL=Plugin.js.map
